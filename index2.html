<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise_2</title>
  </head>
  <body>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap");
      .info {
        font-family: "Roboto Condensed", sans-serif;
        margin: 40px;
        padding: 20px;
        font-size: 21px;
        background-color: rgba(224, 224, 224, 90%);
        max-width: fit-content;
        border-radius: 15px;
        color: rgba(45, 45, 45, 90%);
      }
      * {
        margin: 0;
        padding: 0;
      }
      #MathJax-Span-2 {
        font-size: 21px !important;
      }
      #result {
        font-weight: bold;
      }
    </style>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({ TeX: { extensions: ["AMSmath.js", "AMSsymbols.js"] } });
      MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [['$','$'], ['\\(','\\)']],
              processEscapes: true
          }
      });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <div class="info">Значение функции $b = {\sqrt{y+\sqrt[3]x}-1+2z}$</div>
    <script>
      function b(x, y, z) {
        if (x < 0) {
          pow = -Math.pow(Math.abs(x), 1 / 3);
        } else {
          pow = Math.pow(x, 1 / 3);
        }
        b = Math.pow(y + pow, 1 / 2) - 1 + 2 * z;
        document.querySelector(".info").innerHTML +=
          " при x = " +
          x +
          ", y = " +
          y +
          ", z = " +
          z +
          " равняется <span id='result'>" +
          b.toFixed(2) +
          "</span>";
      }

      let x, numOrNot;
      do {
        numOrNot = false;
        x = prompt("Введите значение x для вычисления значения функции b:", "");
        try {
          if (isNaN(x)) {
            numOrNot = true;
            throw new Error(
              "Введено нечисловое значение. Необходимо ввести число."
            );
          }
          if (x == "") {
            numOrNot = true;
            throw new Error(
              "Поле ввода не содержит значения. Необходимо ввести число."
            );
          }
          if (x == null) {
            break;
          }
        } catch (error) {
          alert(error.message);
        }
      } while (numOrNot);

      let y, negOrNot, pow;
      do {
        negOrNot = false;
        numOrNot = false;
        y = prompt("Введите значение y для вычисления значения функции b:", "");
        try {
          if (isNaN(y)) {
            numOrNot = true;
            throw new Error(
              "Введено нечисловое значение. Необходимо ввести число."
            );
          }
          if (y == "") {
            numOrNot = true;
            throw new Error(
              "Поле ввода не содержит значения. Необходимо ввести число."
            );
          }
          if (y == null) {
            break;
          }
          y = parseFloat(y);
          if (x < 0) {
            pow = -Math.pow(Math.abs(x), 1 / 3);
          } else {
            pow = Math.pow(x, 1 / 3);
          }
          if (y + pow < 0) {
            negOrNot = true;
            throw new Error(
              `Сумма под квадратным корнем отрицательная. Введите значение y >= ${-pow.toFixed(
                2
              )}.`
            );
          }
        } catch (error) {
          alert(error.message);
        }
      } while (negOrNot || numOrNot);

      let z;
      do {
        numOrNot = false;
        z = prompt("Введите значение z для вычисления значения функции b:", "");
        try {
          if (isNaN(z)) {
            numOrNot = true;
            throw new Error(
              "Введено нечисловое значение. Необходимо ввести число."
            );
          }
          if (z == "") {
            numOrNot = true;
            throw new Error(
              "Поле ввода не содержит значения. Необходимо ввести число."
            );
          }
          if (z == null) {
            break;
          }
        } catch (error) {
          alert(error.message);
        }
      } while (numOrNot);

      if (x == null || y == null || z == null) {
        document.querySelector(".info").remove();
      } else {
        x = parseFloat(x);
        z = parseFloat(z);
        b(x, y, z);
      }
    </script>
  </body>
</html>
